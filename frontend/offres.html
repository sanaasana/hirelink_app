<!DOCTYPE html>
<html lang="en">
<head>
    <title > OFFRES</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Offres.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
<!----------header------------->   
<!--navbar-->
<section id="nav-bar">
    <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand me-auto" href="#">  <h1 class="logo">HireLink</h1> </a> <!-- Adjusted spacing with me-auto -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="corrige.html">HOME</a>
                </li>
    
                <li class="nav-item">
                    <a class="nav-link" href="offres.html">OFFRES</a>
                  </li>
    
                  <li class="nav-item">
                    <a class="nav-link" href="about.html"> ABOUT</a>
                  </li>
    
                  <li class="nav-item">
                    <a class="nav-link" href="contact.html"> CONTACT</a>
                  </li>
    
                  <li class="nav-item">
                    <a class="nav-link" href="corrige.html"> FEEDBACK</a>
                  </li>
                  
                  <li class="nav-item">
                    <a class="nav-link " href="connexion.html" >CONNEXION</a>
                  </li>
            </ul>
        </div>
    </nav>
    </section>

 <!---------------------------------------------------banner section ---------------->

 <section id="banner">
    <div class="container">
                  
        </div>
   
    
 </section>
 
</section>
    <div class="search-job text-center">
        <input type="text" class="form-control" placeholder="Titre de poste ou mot-clé">
        <input type="text" class="form-control" placeholder="Entreprise">
        <input type="text" class="form-control" placeholder="Location">
        <input type="button" class="btn btn-primary" value="Rechercher">
    </div>
    <!----meilleur recruteurs---->
<section id="recruteurs">
    <div class="container text-center">
        <h3>Meilleur Recruteurs</h3>
        <div>
            <a href="https://eca-assurances.com/"><img src="images/ca-7l4w248q0u8xv16rc6wp9x6ylqnhb524102022040535.jpg"></a>
            <a href="https://asa-techno.com/"><img src="images/ca-7jb7l496lchbl51p91egkindvpcviw21062022024516.jpg"></a>
            <a href="https://www.inetum.com/"><img src="images/ca-9kfinw356rt5d1ymf8458vnvuq7vay24012022042241.jpg"></a>
            <a href="https://x-hub.io/"><img src="images/ca-1lukdu6b0j4mj3bbegyfbuacwv7gaj06062022041544.jpg"></a>
            <a href="https://atos.net/"><img src="images/ca-0ne4r6e78l69bxxx574m0e22uxgpsq20092019121140.jpg"></a>
            <a href="https://weedoit.digital/"><img src="images/téléchargement.png"></a>
        </div>
    </div>
</section>
<!----------recent jobs---------->
<section id="jobs">
    <div class="container">
        <h5>Offres récentes</h5> 
            <div class="offres-container">
            <div class="offre">
                <div class="left-section">
                    <h3 class="job-title"><b>Titre du poste</b></h3>
                    <h4 class="company">Nom de l'entreprise</h4>
                    <p class="location"><i class="fas fa-map-marker-alt"></i> Lieu</p>
                    <p class="date">06-03-2024</p>
                </div>
                <div class="right-section">
                    <p class="description">Description de l'offre Lorem ipsum dolor sit amet 
                        consectetur adipisicing elit. Architecto in nostrum et sed a Lorem ipsum dolor sit amet.</p>
                    <div class="details hidden">
                        <h5>Responsabilités :</h5>
                        <ul>
                            <p></p>
                        </ul>
                        <h5>Exigences :</h5>
                        <ul>
                            <p></p>
                        </ul>
                    </div>
                    <button class="show-details">PLUS</button>


          <button class="apply-button">     <a  href= "connexion.html "> Postuler  </a> </button>  


                </div>
            </div> 
            
            </div> 
    </div> 
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Récupérer les offres depuis le stockage local
    var offres = JSON.parse(localStorage.getItem('offres')) || [];
    var offresContainer = document.querySelector('.offres-container');

    // Fonction pour afficher les offres
    function afficherOffres(offres) {
        // Effacer le contenu précédent
        offresContainer.innerHTML = "";

        if (offres.length === 0) {
            offresContainer.innerHTML = `<p class="message-recherche text-center">Aucune offre correspondant à votre sélection</p>`;
        } else {
            // Parcourir toutes les offres et les afficher
            offres.forEach(function(offre, index) {
                // Obtenez la date actuelle
                var currentDate = new Date();
                // Formattez la date
                var formattedDate = currentDate.toLocaleDateString();

                var offreElement = document.createElement('div');
                offreElement.classList.add('offre');
                offreElement.innerHTML = `
                    <div class="left-section">
                        <h3 class="job-title"> <b><span>${offre.poste}</span></b></h3>
                        <h4 class="company"><span>${offre.entreprise}</span></h4>
                        <p class="location"><i class="fas fa-map-marker-alt"></i> <span> ${offre.Lieu}</span></p>
                        <p class="date"><span>Posté le ${formattedDate}</span></p>
                    </div>
                    <div class="right-section">
                        <p class="description"><span>${offre.descrip}</span></p>
                        <div class="details hidden">
                            <h5>Responsabilités :</h5>
                            <ul>
                                <span>${offre.Responsabilites}</span>
                            </ul>
                            <h5>Exigences :</h5>
                            <ul>
                                <span>${offre.Exigences}</span>
                            </ul>
                        </div>
                        <button class="show-details">PLUS</button>
                        <button class="apply-button"><a href="connexion.html">Postuler</a></button>
                    </div>     
                `;
                offresContainer.appendChild(offreElement);

                // Ajouter un gestionnaire d'événements à chaque bouton "PLUS"
                var showDetailsButton = offreElement.querySelector('.show-details');
                var detailsSection = offreElement.querySelector('.details');
                showDetailsButton.addEventListener('click', function() {
                    detailsSection.classList.toggle('hidden');
                    if (detailsSection.classList.contains('hidden')) {
                        showDetailsButton.textContent = 'PLUS';
                    }
                    else {
                        showDetailsButton.textContent = 'MOINS';
                    }
                });
            });
        }
    }

    // Afficher toutes les offres initialement
    afficherOffres(offres);

    // Fonction de recherche
    document.querySelector('.search-job input[type="button"]').addEventListener('click', function() {
        var titrePoste = document.querySelector('.search-job input:nth-of-type(1)').value.toLowerCase();
        var entreprise = document.querySelector('.search-job input:nth-of-type(2)').value.toLowerCase();
        var location = document.querySelector('.search-job input:nth-of-type(3)').value.toLowerCase();

        // Filtrer les offres en fonction des critères de recherche
        var offresFiltrees = offres.filter(function(offre) {
            return offre.poste.toLowerCase().includes(titrePoste) &&
                offre.entreprise.toLowerCase().includes(entreprise) &&
                offre.Lieu.toLowerCase().includes(location);
        });

        // Afficher les offres filtrées
        afficherOffres(offresFiltrees);
    });
});

</script>
</body>
</html>